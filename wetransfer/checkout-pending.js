(self.webpackChunk_N_E = self.webpackChunk_N_E || []).push([
    [5413], {
        12390: (e, a, i) => {
            "use strict";
            i.d(a, {
                L: () => s
            });
            let s = 6
        },
        45713: e => {
            e.exports = {
                "wt-display-heading-x-small-bold": "PasswordlessLoginForm_wt-display-heading-x-small-bold__NTMfp",
                "wt-display-heading-small-bold-narrow": "PasswordlessLoginForm_wt-display-heading-small-bold-narrow__6mkm2",
                "wt-display-heading-small-bold": "PasswordlessLoginForm_wt-display-heading-small-bold__5KJIG",
                "wt-display-heading-small-bold-wide": "PasswordlessLoginForm_wt-display-heading-small-bold-wide__1a67D",
                "wt-display-heading-small-narrow": "PasswordlessLoginForm_wt-display-heading-small-narrow__Nq60r",
                "wt-display-heading-small": "PasswordlessLoginForm_wt-display-heading-small__ARr_K",
                "wt-display-heading-small-wide": "PasswordlessLoginForm_wt-display-heading-small-wide__ZA5Ib",
                "wt-display-heading-medium-bold-narrow": "PasswordlessLoginForm_wt-display-heading-medium-bold-narrow__3i7wv",
                "wt-display-heading-medium-bold": "PasswordlessLoginForm_wt-display-heading-medium-bold__Mj2KM",
                "wt-display-heading-medium-bold-wide": "PasswordlessLoginForm_wt-display-heading-medium-bold-wide__s_Drg",
                "wt-display-heading-medium-narrow": "PasswordlessLoginForm_wt-display-heading-medium-narrow__CPjYb",
                "wt-display-heading-medium": "PasswordlessLoginForm_wt-display-heading-medium__jbLSJ",
                "wt-display-heading-medium-wide": "PasswordlessLoginForm_wt-display-heading-medium-wide__w12OW",
                "wt-display-heading-large-bold-narrow": "PasswordlessLoginForm_wt-display-heading-large-bold-narrow__f3RIb",
                "wt-display-heading-large-bold": "PasswordlessLoginForm_wt-display-heading-large-bold__6bpSY",
                "wt-display-heading-large-bold-wide": "PasswordlessLoginForm_wt-display-heading-large-bold-wide__32S5R",
                "wt-display-heading-large-narrow": "PasswordlessLoginForm_wt-display-heading-large-narrow__KyKRZ",
                "wt-display-heading-large": "PasswordlessLoginForm_wt-display-heading-large__zbNk_",
                "wt-display-heading-large-wide": "PasswordlessLoginForm_wt-display-heading-large-wide__UjAGl",
                "wt-display-heading": "PasswordlessLoginForm_wt-display-heading__zy5CQ",
                "wt-sub-heading": "PasswordlessLoginForm_wt-sub-heading__r3vCe",
                "wt-text-heading-small-bold-narrow": "PasswordlessLoginForm_wt-text-heading-small-bold-narrow__zJeT5",
                "wt-text-heading-small-bold": "PasswordlessLoginForm_wt-text-heading-small-bold__dn1C5",
                "wt-text-heading-small-bold-wide": "PasswordlessLoginForm_wt-text-heading-small-bold-wide__yyjm2",
                "wt-text-heading-small-narrow": "PasswordlessLoginForm_wt-text-heading-small-narrow__Fcwja",
                "wt-text-heading-small": "PasswordlessLoginForm_wt-text-heading-small__y3QuD",
                "wt-text-heading-small-wide": "PasswordlessLoginForm_wt-text-heading-small-wide__n09qp",
                "wt-text-heading-medium-bold": "PasswordlessLoginForm_wt-text-heading-medium-bold__Kuwj_",
                "wt-text-heading-medium-bold-wide": "PasswordlessLoginForm_wt-text-heading-medium-bold-wide__OVd_J",
                "wt-text-heading-medium-semi-narrow": "PasswordlessLoginForm_wt-text-heading-medium-semi-narrow__hyvya",
                "wt-text-heading-medium-narrow": "PasswordlessLoginForm_wt-text-heading-medium-narrow__uqrs9",
                "wt-text-heading-medium-semi": "PasswordlessLoginForm_wt-text-heading-medium-semi__Ycnpy",
                "wt-text-heading-medium-semi-wide": "PasswordlessLoginForm_wt-text-heading-medium-semi-wide__eLkQZ",
                "wt-text-heading-medium": "PasswordlessLoginForm_wt-text-heading-medium__MKDi6",
                "wt-text-heading-medium-wide": "PasswordlessLoginForm_wt-text-heading-medium-wide__w5Vlr",
                "wt-text-heading-large-bold-narrow": "PasswordlessLoginForm_wt-text-heading-large-bold-narrow__KyA79",
                "wt-text-heading-large-bold": "PasswordlessLoginForm_wt-text-heading-large-bold__mcZ39",
                "wt-text-heading-large-bold-wide": "PasswordlessLoginForm_wt-text-heading-large-bold-wide__rAyBD",
                "wt-text-heading-large-narrow": "PasswordlessLoginForm_wt-text-heading-large-narrow__VEdrC",
                "wt-text-heading-large": "PasswordlessLoginForm_wt-text-heading-large__ZJOP2",
                "wt-text-heading-large-wide": "PasswordlessLoginForm_wt-text-heading-large-wide__LTxLc",
                "wt-text-heading-x-large-narrow": "PasswordlessLoginForm_wt-text-heading-x-large-narrow__UY_HR",
                "wt-text-heading-x-large": "PasswordlessLoginForm_wt-text-heading-x-large__mMfoz",
                "wt-text-heading-x-large-wide": "PasswordlessLoginForm_wt-text-heading-x-large-wide__4QI1F",
                "wt-text-heading": "PasswordlessLoginForm_wt-text-heading__lAP8m",
                "wt-body-x-small-semi": "PasswordlessLoginForm_wt-body-x-small-semi__TxjsU",
                "wt-body-x-small": "PasswordlessLoginForm_wt-body-x-small__tXhZD",
                "wt-body-small-bold": "PasswordlessLoginForm_wt-body-small-bold__va9Me",
                "wt-body-small-semi": "PasswordlessLoginForm_wt-body-small-semi__0rVhK",
                countDownTimer: "PasswordlessLoginForm_countDownTimer__Qc_oH",
                "wt-body-small": "PasswordlessLoginForm_wt-body-small__enVsA",
                resendCodeMessage: "PasswordlessLoginForm_resendCodeMessage__EkEzx",
                "wt-body-medium-bold": "PasswordlessLoginForm_wt-body-medium-bold__1tyfT",
                "wt-body-medium-semi": "PasswordlessLoginForm_wt-body-medium-semi__XGoEw",
                email: "PasswordlessLoginForm_email__rmAY8",
                "wt-body-medium": "PasswordlessLoginForm_wt-body-medium__TLZkn",
                "wt-body-large-bold": "PasswordlessLoginForm_wt-body-large-bold__Q_cra",
                "wt-body-large": "PasswordlessLoginForm_wt-body-large__ia4k4",
                input: "PasswordlessLoginForm_input__cV2OW",
                "wt-body-x-large": "PasswordlessLoginForm_wt-body-x-large__dJDnr",
                "wt-label-x-small-bold": "PasswordlessLoginForm_wt-label-x-small-bold__Qbawk",
                "wt-label-x-small-semi": "PasswordlessLoginForm_wt-label-x-small-semi__UzV8Q",
                "wt-label-x-small": "PasswordlessLoginForm_wt-label-x-small__GGneT",
                "wt-label-small-bold": "PasswordlessLoginForm_wt-label-small-bold__gb61G",
                "wt-label-small-semi": "PasswordlessLoginForm_wt-label-small-semi__tZNxA",
                "wt-label-small": "PasswordlessLoginForm_wt-label-small__vN9_6",
                "wt-label-medium-bold": "PasswordlessLoginForm_wt-label-medium-bold__TDlA7",
                "wt-label-medium-semi": "PasswordlessLoginForm_wt-label-medium-semi__Wi1b4",
                "wt-label-medium": "PasswordlessLoginForm_wt-label-medium__oQrjV",
                "wt-label-large-bold": "PasswordlessLoginForm_wt-label-large-bold__IRTOe",
                "wt-label-large-semi": "PasswordlessLoginForm_wt-label-large-semi__EizL6",
                "wt-label-large": "PasswordlessLoginForm_wt-label-large__TaFrq",
                form: "PasswordlessLoginForm_form__xHaor",
                textField: "PasswordlessLoginForm_textField__7MzJo",
                button: "PasswordlessLoginForm_button__kgV0A",
                confirmationMessage: "PasswordlessLoginForm_confirmationMessage__daLRY",
                "is-mobile-ready": "PasswordlessLoginForm_is-mobile-ready__zhYXu",
                inlineError: "PasswordlessLoginForm_inlineError__CjTQb",
                modifyEmailButton: "PasswordlessLoginForm_modifyEmailButton__13J8j"
            }
        },
        58375: e => {
            e.exports = {
                form: "UpdateEmailForm_form__9WkRx",
                textField: "UpdateEmailForm_textField__Giqof",
                button: "UpdateEmailForm_button__8SdCV",
                inlineError: "UpdateEmailForm_inlineError__dNx11"
            }
        },
        63412: (e, a, i) => {
            "use strict";
            i.r(a), i.d(a, {
                default: () => eE
            });
            var s = i(23798),
                t = i(76585),
                o = i(56094),
                r = i(45781),
                l = i(44652),
                d = i(76327),
                n = i(21462),
                m = i(75546),
                w = i(38169),
                _ = i(6561),
                g = i(46636),
                u = i(13722),
                c = i(91053),
                h = i(60848),
                b = i(8078),
                p = i(85388),
                y = i(91295),
                x = i(86781);

            function f() {
                let e = (0, w.d4)(p.HC),
                    a = (0, w.d4)(x.ox);
                return (0, n.useCallback)(async () => {
                    await (0, y.b)({
                        email: e,
                        language: a
                    })
                }, [e, a])
            }
            var C = i(22352),
                F = i(61149),
                L = i(87963),
                M = i(15913),
                P = i(95467),
                k = i(28330);
            let E = function() {
                let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 10,
                    a = (0, w.wA)(),
                    [i, s] = (0, n.useState)(null),
                    [t, o] = (0, n.useState)(0),
                    r = (0, w.d4)(x.JV),
                    l = (0, w.d4)(p.P2),
                    d = function() {
                        let [e] = (0, C.L8)();
                        return (0, n.useCallback)(async a => {
                            let {
                                teamId: i
                            } = a;
                            return await e({
                                teamId: i,
                                isGuestAuth: !0
                            }).unwrap()
                        }, [e])
                    }(),
                    [m] = (0, C.L8)(),
                    {
                        ownTeam: _
                    } = (0, M.o)(),
                    [g, u] = (0, n.useState)(null),
                    h = (0, n.useCallback)(async () => {
                        try {
                            if (r) {
                                let e = await a(P.default.getUser()),
                                    s = await m({
                                        teamId: null == _ ? void 0 : _.id
                                    }).unwrap();
                                i === e.plan_tier && s.status !== k.dH.incomplete && u(e.plan_tier)
                            } else if (l) {
                                let {
                                    tier: e,
                                    status: a
                                } = await d({
                                    teamId: l
                                });
                                i === e && a !== k.dH.incomplete && u(e)
                            }
                        } catch (e) {
                            (0, L.Od)().trackUserAction(c.X.errorShown({
                                errorCode: F.tG.POLL_FOR_SUBSCRIPTION_FAILED
                            }))
                        }
                        setTimeout(() => o(t + 1), 1e3)
                    }, [r, a, m, null == _ ? void 0 : _.id, i, l, d, t]);
                return (0, n.useEffect)(() => {
                    !i || g || t >= e || h()
                }, [h, i, g, t, e]), {
                    startPolling: e => s(e),
                    updatedPlanTier: g,
                    maxPollingAttemptsReached: t >= e
                }
            };
            var A = i(36813),
                j = i(46001),
                v = i.n(j),
                S = i(19724),
                I = i(20151),
                T = i(15933),
                N = i(82187),
                U = i(22056),
                O = i(14388),
                R = i(12390),
                X = i(94670),
                D = i(16173),
                K = i(96826),
                V = i.n(K);

            function G(e) {
                let {
                    email: a,
                    className: i
                } = e;
                return (0, s.jsxs)("div", {
                    className: v()(V().confirmationMessage, i),
                    children: [(0, s.jsx)(D.CA6, {
                        "aria-hidden": "true",
                        size: "small"
                    }), (0, s.jsx)("p", {
                        className: V().message,
                        children: (0, s.jsx)(m.x6, {
                            i18nKey: "checkout.passwordless.confirmation-message",
                            components: [(0, s.jsx)("span", {}, 0)],
                            values: {
                                email: a
                            }
                        })
                    })]
                })
            }
            var J = i(75600),
                B = i(20657),
                H = i(71915),
                z = i(91665),
                Y = i(82710),
                q = i(43427),
                Q = i(89187),
                W = i(4905),
                Z = i(78080),
                $ = i(33809),
                ee = i(19492),
                ea = i(7686),
                ei = i(36165),
                es = i(5619),
                et = i(5712),
                eo = i(31543),
                er = i(72255),
                el = i(25825),
                ed = i.n(el),
                en = i(45713),
                em = i.n(en);

            function ew() {
                var e;
                let {
                    t: a
                } = (0, m.Bd)(), i = (0, w.d4)(p.HC), t = (0, w.d4)(p.P2), o = (0, $.V)(), {
                    planTier: r,
                    billingPeriod: l,
                    isForBusiness: d,
                    selectedPaymentMethod: _,
                    startFreeTrial: g
                } = (0, w.d4)(p.q5), u = (0, ei.jL)(), b = function() {
                    let {
                        t: e
                    } = (0, m.Bd)();
                    return (0, X.s)({
                        schema: (0, O.Ik)({
                            verificationCode: (0, O.Yj)().required(e("checkout.passwordless.form.error.verification-code.required")).length(R.L, e("checkout.passwordless.form.error.verification-code.length"))
                        }),
                        reValidateMode: "onBlur"
                    })
                }(), y = f(), {
                    countDownTimer: x,
                    startCountDownTimer: C
                } = (0, Z.g)(), F = (0, h.mX)(), {
                    errors: M,
                    isSubmitting: P
                } = b.formState, k = null !== x && x > 0;
                (0, et.S)(() => {
                    (0, L.Od)().trackUserAction(c.X.passwordlessLoginShown({
                        billingPeriod: l,
                        isForBusiness: d,
                        isFreeTrialAvailable: g,
                        isMobile: eo.A.isMobile,
                        paymentMethod: _,
                        subscriptionTier: r
                    }))
                });
                let E = b.handleSubmit(async e => {
                        if ((0, L.Od)().trackUserAction(c.X.verifyClicked()), i && t) try {
                            await o({
                                email: i,
                                verificationCode: e.verificationCode
                            }), u(J.jf.actions.deleteSession()), (0, es.aC)(t), (0, L.Od)().trackUserAction(c.X.userVerified()), (0, L.Od)().trackUserAction(N.xO.userLogin((0, N.Gi)({
                                emailVerificationCompleted: !0,
                                ...F
                            })));
                            let a = (0, B.pu)();
                            (0, B.u4)(), r === Q.js.ULTIMATE && (0, z.FF)(F.trigger), a && (0, ea.t)(a) ? ((0, ee.OP)(), window.location.href = a) : ((0, H.Et)(), er.A.navigateTo("/"), window.location.reload())
                        } catch (e) {
                            if ((0, Y.E)(e)) {
                                var s, l;
                                let i = null == (s = e.data) ? void 0 : s.error,
                                    t = null == (l = e.data) ? void 0 : l.error_description,
                                    o = "invite_required" === i;
                                if ("invalid_grant" === i || o) {
                                    let e = null == t ? void 0 : t.includes("maximum number of attempts"),
                                        i = e ? a("checkout.passwordless.form.error.verification-code.max-attempts") : o ? a("checkout.passwordless.form.error.verification-code.invite-required") : a("checkout.passwordless.form.error.verification-code.invalid");
                                    b.setError("verificationCode", {
                                        type: "invalid",
                                        message: i
                                    }), (0, L.Od)().trackUserAction(c.X.errorShown({
                                        errorCode: e ? "MAX_ATTEMPTS_REACHED" : o ? "INVITE_REQUIRED" : "INVALID_VERIFICATION_CODE",
                                        message: i
                                    }));
                                    return
                                }
                            }
                            b.setError("root", {
                                type: "unknown",
                                message: a("checkout.passwordless.form.error.unknown")
                            }), (0, L.Od)().trackUserAction(c.X.errorShown({
                                errorCode: "UNKNOWN_ERROR",
                                message: a("checkout.passwordless.form.error.unknown")
                            }))
                        }
                    }),
                    A = (0, n.useCallback)(async () => {
                        (0, L.Od)().trackUserAction(c.X.resendClicked()), b.setValue("verificationCode", ""), b.clearErrors(), C(W.X);
                        try {
                            await y()
                        } catch (e) {
                            b.setError("root", {
                                type: "unknown",
                                message: a("checkout.passwordless.form.error.unknown")
                            }), (0, L.Od)().trackUserAction(c.X.errorShown({
                                errorCode: "UNKNOWN_ERROR",
                                message: a("checkout.passwordless.form.error.unknown")
                            }))
                        }
                    }, [b, C, y, a]);
                return (0, s.jsxs)("div", {
                    className: v()(em().form, ed().fadeInFromBottom),
                    children: [(0, s.jsx)(G, {
                        email: i,
                        className: em().confirmationMessage
                    }), (0, s.jsxs)("form", {
                        onSubmit: E,
                        noValidate: !0,
                        children: [(0, s.jsx)(q.J, {
                            title: a("checkout.passwordless.form.header.title"),
                            body: (0, s.jsx)(m.x6, {
                                i18nKey: "checkout.passwordless.form.header.body",
                                components: [(0, s.jsx)("span", {
                                    className: em().email
                                }, 0)],
                                values: {
                                    email: i
                                }
                            }),
                            body2: (0, s.jsx)(m.x6, {
                                i18nKey: "checkout.passwordless.form.header.body2",
                                components: [(0, s.jsx)(S.N, {
                                    as: "button",
                                    typography: "wt-body-medium",
                                    className: em().modifyEmailButton,
                                    type: "button",
                                    onClick: () => {
                                        u(J.jf.actions.setShowPasswordlessLoginForm(!1)), u(J.jf.actions.setShowUpdateEmailForm(!0))
                                    }
                                }, 0)]
                            })
                        }), b.formState.errors.root && (0, s.jsx)("div", {
                            className: em().inlineError,
                            children: (0, s.jsx)(U.j, {
                                type: "error",
                                children: b.formState.errors.root.message
                            })
                        }), (0, s.jsx)("div", {
                            className: em().textField,
                            children: (0, s.jsx)(I.A, {
                                ...b.register("verificationCode"),
                                label: a("checkout.passwordless.form.input.label"),
                                labelType: "hidden",
                                inputClassName: em().input,
                                maxLength: R.L,
                                caption: null == (e = M.verificationCode) ? void 0 : e.message,
                                state: M.verificationCode ? "invalid" : "default"
                            })
                        }), (0, s.jsx)(T.$, {
                            type: "submit",
                            fullwidth: !0,
                            className: em().button,
                            disabled: P,
                            children: a("checkout.passwordless.form.submit-button.text")
                        }), (0, s.jsx)(T.$, {
                            appearance: "tertiary",
                            type: "button",
                            fullwidth: !0,
                            disabled: P || k,
                            onClick: A,
                            children: a("checkout.passwordless.form.resend-button.text")
                        }), k ? (0, s.jsx)("p", {
                            className: em().resendCodeMessage,
                            children: (0, s.jsx)(m.x6, {
                                i18nKey: "checkout.passwordless.form.resend-code-message",
                                components: [(0, s.jsx)("span", {
                                    className: em().countDownTimer
                                }, 0)],
                                values: {
                                    timer: x.toLocaleString("en-US", {
                                        minimumIntegerDigits: 2,
                                        useGrouping: !1
                                    })
                                }
                            })
                        }) : null]
                    })]
                })
            }
            var e_ = i(59668),
                eg = i(87563),
                eu = i(94990),
                ec = i(58375),
                eh = i.n(ec);

            function eb() {
                var e;
                let {
                    t: a
                } = (0, m.Bd)(), i = (0, ei.jL)(), t = function() {
                    let {
                        t: e
                    } = (0, m.Bd)();
                    return (0, X.s)({
                        schema: (0, O.Ik)({
                            newEmail: (0, eu.m)({
                                requiredMessage: e("checkout.update-email.form.error.new-email.required"),
                                invalidMessage: e("checkout.update-email.form.error.new-email.invalid")
                            })
                        }),
                        reValidateMode: "onBlur"
                    })
                }(), [o] = (0, C.Qq)(), {
                    errors: r,
                    isSubmitting: l
                } = t.formState;
                (0, et.S)(() => {
                    (0, L.Od)().trackUserAction(c.X.updateEmailFormShown())
                });
                let d = t.handleSubmit(async e => {
                    (0, L.Od)().trackUserAction(c.X.updateEmailSubmitted());
                    let s = await o({
                        email: e.newEmail,
                        isGuestAuth: !0
                    });
                    if ("error" in s) {
                        let {
                            type: e,
                            messageKey: i,
                            errorCode: o
                        } = function(e) {
                            if ("status" in e && 401 === e.status) return {
                                type: "unauthorized",
                                messageKey: "checkout.update-email.form.error.unauthorized",
                                errorCode: "UNAUTHORIZED"
                            };
                            if ("data" in e && e.data) {
                                var a;
                                if ("EMAIL_ALREADY_EXISTS" === e.data.code || "errors" in e.data && (null == (a = e.data.errors) ? void 0 : a.email)) return {
                                    type: "email-already-exists",
                                    messageKey: "checkout.update-email.form.error.email-already-exists",
                                    errorCode: "EMAIL_ALREADY_EXISTS"
                                }
                            }
                            return {
                                type: "unknown",
                                messageKey: "checkout.update-email.form.error.unknown",
                                errorCode: "UNKNOWN_ERROR"
                            }
                        }(s.error);
                        t.setError("root", {
                            type: e,
                            message: a(i)
                        }), (0, L.Od)().trackUserAction(c.X.errorShown({
                            errorCode: o,
                            message: a(i)
                        }));
                        return
                    }(0, L.Od)().trackUserAction(c.X.emailUpdated()), i(J.jf.actions.setEmail(e.newEmail)), i(J.jf.actions.setShowUpdateEmailForm(!1)), i(J.jf.actions.setShowPasswordlessLoginForm(!0))
                });
                return (0, s.jsx)("div", {
                    className: v()(eh().form, ed().fadeInFromBottom),
                    children: (0, s.jsxs)("form", {
                        onSubmit: d,
                        noValidate: !0,
                        children: [(0, s.jsx)(q.J, {
                            title: a("checkout.update-email.form.header.title")
                        }), r.root && (0, s.jsx)("div", {
                            className: eh().inlineError,
                            children: (0, s.jsx)(U.j, {
                                type: "error",
                                children: r.root.message
                            })
                        }), (0, s.jsx)("div", {
                            className: eh().textField,
                            children: (0, s.jsx)(I.A, {
                                ...t.register("newEmail"),
                                value: t.watch("newEmail") || "",
                                label: a("checkout.update-email.form.input.label"),
                                labelType: "inside",
                                caption: null == (e = r.newEmail) ? void 0 : e.message,
                                state: r.newEmail ? "invalid" : "default"
                            })
                        }), (0, s.jsx)(T.$, {
                            type: "submit",
                            fullwidth: !0,
                            className: eh().button,
                            disabled: l,
                            children: a("checkout.update-email.form.submit-button.text")
                        }), (0, s.jsx)(T.$, {
                            appearance: "tertiary",
                            type: "button",
                            fullwidth: !0,
                            disabled: l,
                            onClick: () => {
                                i(J.jf.actions.setShowUpdateEmailForm(!1)), i(J.jf.actions.setShowPasswordlessLoginForm(!0))
                            },
                            children: a("checkout.update-email.form.back-button.text")
                        })]
                    })
                })
            }
            var ep = i(24761),
                ey = i(25402),
                ex = i(51853),
                ef = i(88848),
                eC = i(33615),
                eF = i(74067),
                eL = i(98172),
                eM = i(95894),
                eP = i.n(eM);

            function ek() {
                let {
                    t: e
                } = (0, m.Bd)(), a = (0, h.mX)(), i = (0, w.d4)(x.JV), t = (0, w.d4)(p.HC), o = (0, w.d4)(p.P2), r = (0, w.d4)(p.l_), y = (0, w.d4)(eL.RJ), C = (0, w.d4)(eL.Lm), P = f(), k = (0, n.useRef)(""), j = (0, w.d4)(p.eV), v = (0, w.d4)(p.vY), {
                    ownTeam: S
                } = (0, M.o)(), I = (0, d.useStripe)(), T = (0, ei.jL)(), {
                    searchParams: N
                } = new URL(location.href), [U, O] = (0, n.useState)(!1), [R, X] = (0, n.useState)(!1), [D, K] = (0, n.useState)(!1), {
                    createSubscription: V,
                    hCaptchaRef: G
                } = (0, b.v)(), [Y, q] = (0, n.useState)(!1), [W, Z] = (0, n.useState)(!1), $ = (0, n.useMemo)(() => {
                    let e = N.get("redirect_status");
                    return "failed" === e || "canceled" === e
                }, [N]), es = (0, _.Gk)();
                (0, n.useEffect)(() => {
                    if (!U && (W || !a.junoSubscriptionRedirect || $)) {
                        if ($ && ("1" === N.get("id") || a.paymentMethod === eg.l.IDEAL) && !R)(0, L.Od)().trackUserAction(c.X.errorShown({
                            errorCode: F.tG.IDEAL_PAYMENT_FAILED
                        })), X(!0);
                        else if ($ && ("1" === N.get("pp") || a.paymentMethod === eg.l.PAYPAL) && !R)(0, L.Od)().trackUserAction(c.X.errorShown({
                            errorCode: F.tG.PAYPAL_PAYMENT_FAILED
                        })), X(!0);
                        else if (!U) {
                            "none" !== es && a.startFreeTrial && a.trigger === ef.vW.DW_RECOVER_EXPIRED_TRANSFER && a.tier === Q.js.ULTIMATE && a.transferId ? (0, g.wc)(a.transferId, C) : (0, g.Z6)(), (0, g.Ze)(), (0, L.Od)().trackUserAction(c.X.userConverted({
                                subscriptionTier: a.tier,
                                billingPeriod: a.billing,
                                paywallType: a.paywall,
                                junoSubscription: a.junoSubscriptionRedirect,
                                paywallTrigger: a.trigger,
                                isFreeTrialAvailable: a.startFreeTrial,
                                enterpriseSeats: a.seats,
                                areNorCheckoutTermsAccepted: a.areNorCheckoutTermsAccepted
                            })), (0, eC.Ho)();
                            let e = void 0 !== a.seats && null !== a.seats ? parseInt(a.seats.toString(), 10) : void 0,
                                i = void 0 === e || isNaN(e) ? void 0 : e;
                            (0, L.Od)().trackUserAction(c.X.paymentSucceeded({
                                subscriptionTier: a.tier,
                                billingPeriod: a.billing,
                                paymentMethod: a.paymentMethod,
                                isForBusiness: a.isForBusiness,
                                couponCode: a.coupon,
                                isFreeTrialAvailable: a.startFreeTrial,
                                junoSubscription: a.junoSubscriptionRedirect,
                                paywallType: a.paywall,
                                paywallTrigger: a.trigger,
                                seatsCount: i
                            })), T((0, ep.SI)(a.paywallId, {
                                tier: a.tier,
                                billingPeriod: a.billing,
                                paymentMethod: a.paymentMethod
                            }))
                        }
                        O(!0)
                    }
                }, [$, a, U, R, N, W, T, es, C]);
                let {
                    startPolling: et,
                    updatedPlanTier: eo,
                    maxPollingAttemptsReached: el
                } = E();
                (0, n.useEffect)(() => {
                    U && a.tier && et(a.tier)
                }, [U, a.tier, et]), (0, n.useEffect)(() => {
                    if (el && K(!0), eo)
                        if (i)
                            if ([Q.js.ENTERPRISE].includes(eo)) er.A.navigateTo(ex.PJ.route, !0);
                            else {
                                let e = (0, B.pu)();
                                (0, B.u4)(), eo === Q.js.ULTIMATE && (0, z.FF)(a.trigger), e && (0, ea.t)(e) ? ((0, ee.OP)(), window.location.href = e) : ((0, H.Et)(), window.location.href = "/")
                            }
                    else $ || T(J.jf.actions.setShowPasswordlessLoginForm(!0))
                }, [$, eo, el, i, T, a.trigger]), (0, n.useEffect)(() => {
                    j && t !== k.current && (k.current = t, P())
                }, [t, j, P]);
                let ed = (0, n.useCallback)(async e => {
                    let i = await e.stripeClient.retrieveSetupIntent(e.setupIntentSecret);
                    if (!i.setupIntent) {
                        X(!0), (0, L.Od)().trackUserAction(c.X.errorShown({
                            errorCode: F.tG.JUNO_SUBSCRIPTION_CREATION_FAILED,
                            message: "missing_setup_intent",
                            junoSubscription: !0
                        }));
                        return
                    }
                    if (!Y) try {
                        let s = (0, eF.LT)();
                        s.delete(h.WV), s.delete("redirect_status"), s.delete(h.w4);
                        let t = (0, B.mM)("/checkout/pending".concat(s.toString()));
                        await V({
                            coupon: a.coupon,
                            currency: e.currency,
                            quantity: e.seats ? parseInt(e.seats.toString(), 10) : 1,
                            teamId: e.teamId,
                            userId: e.userId,
                            setupIntent: i.setupIntent,
                            startFreeTrial: e.startFreeTrial,
                            priceAndPackageToken: e.priceAndPackageToken,
                            paymentMethod: e.paymentMethod,
                            redirectUrl: t
                        }), Z(!0)
                    } catch (e) {
                        X(!0), (0, L.Od)().trackUserAction(c.X.errorShown({
                            errorCode: F.tG.JUNO_SUBSCRIPTION_CREATION_FAILED,
                            message: "juno_subscription_creation_failed",
                            junoSubscription: !0
                        }))
                    }
                }, [V, Y, a.coupon]);
                (0, n.useEffect)(() => {
                    if (!$ && a.junoSubscriptionRedirect && a.currency && a.priceToken && a.setupIntentSecret && a.paymentMethod && a.seats && !Y && ((null == S ? void 0 : S.id) || o) && I) {
                        var e;
                        q(!0), ed({
                            stripeClient: I,
                            setupIntentSecret: a.setupIntentSecret,
                            currency: a.currency,
                            teamId: null != (e = null == S ? void 0 : S.id) ? e : o,
                            userId: r || void 0,
                            startFreeTrial: a.startFreeTrial,
                            priceAndPackageToken: a.priceToken,
                            paymentMethod: a.paymentMethod,
                            seats: a.seats
                        })
                    }
                }, [a, o, ed, Y, null == S ? void 0 : S.id, I, r, $]);
                let en = (0, n.useMemo)(() => Y ? e("checkout.payment.pending.activating") : R ? e("checkout.payment.pending.failed") : D ? e("checkout.payment.pending.too-long") : e("checkout.payment.pending.processing"), [R, D, e, Y]);
                return v ? (0, s.jsx)(A.t, {
                    isLoading: !y,
                    main: (0, s.jsx)(eb, {}),
                    showPlansInTopNav: !1,
                    currentStep: e_.b.LOGIN
                }) : j ? (0, s.jsx)(A.t, {
                    isLoading: !y,
                    main: (0, s.jsx)(ew, {}),
                    showPlansInTopNav: !1,
                    currentStep: e_.b.LOGIN
                }) : (0, s.jsxs)("div", {
                    className: eP().container,
                    children: [(0, s.jsx)(u.y, {
                        centered: !0,
                        size: "large",
                        message: en
                    }), (0, s.jsx)(l.A, {
                        ref: G,
                        sitekey: (0, ey.A)().NEXT_PUBLIC_HCAPTCHA_SITE_KEY || "",
                        size: "invisible"
                    })]
                })
            }

            function eE() {
                return (0, t.D)(), (0, s.jsx)(r.A, {
                    showModal: !0,
                    contentHeight: "100vh",
                    children: (0, s.jsx)(o.D, {
                        options: {},
                        children: (0, s.jsx)(ek, {})
                    })
                })
            }
        },
        95894: e => {
            e.exports = {
                container: "PendingPage_container__psA4U"
            }
        },
        96826: e => {
            e.exports = {
                "wt-display-heading-x-small-bold": "ConfirmationMessage_wt-display-heading-x-small-bold__dKgrx",
                "wt-display-heading-small-bold-narrow": "ConfirmationMessage_wt-display-heading-small-bold-narrow__DIJIP",
                "wt-display-heading-small-bold": "ConfirmationMessage_wt-display-heading-small-bold__uoBXn",
                "wt-display-heading-small-bold-wide": "ConfirmationMessage_wt-display-heading-small-bold-wide__X__GC",
                "wt-display-heading-small-narrow": "ConfirmationMessage_wt-display-heading-small-narrow__hiFqP",
                "wt-display-heading-small": "ConfirmationMessage_wt-display-heading-small__le6aD",
                "wt-display-heading-small-wide": "ConfirmationMessage_wt-display-heading-small-wide__RQYH7",
                "wt-display-heading-medium-bold-narrow": "ConfirmationMessage_wt-display-heading-medium-bold-narrow__RaKqI",
                "wt-display-heading-medium-bold": "ConfirmationMessage_wt-display-heading-medium-bold__6LaCi",
                "wt-display-heading-medium-bold-wide": "ConfirmationMessage_wt-display-heading-medium-bold-wide__A_jOr",
                "wt-display-heading-medium-narrow": "ConfirmationMessage_wt-display-heading-medium-narrow__lMlNW",
                "wt-display-heading-medium": "ConfirmationMessage_wt-display-heading-medium__KHs2z",
                "wt-display-heading-medium-wide": "ConfirmationMessage_wt-display-heading-medium-wide__TaREK",
                "wt-display-heading-large-bold-narrow": "ConfirmationMessage_wt-display-heading-large-bold-narrow__o7TFF",
                "wt-display-heading-large-bold": "ConfirmationMessage_wt-display-heading-large-bold__dh7KF",
                "wt-display-heading-large-bold-wide": "ConfirmationMessage_wt-display-heading-large-bold-wide__te4tc",
                "wt-display-heading-large-narrow": "ConfirmationMessage_wt-display-heading-large-narrow__wJMj0",
                "wt-display-heading-large": "ConfirmationMessage_wt-display-heading-large__SpRPx",
                "wt-display-heading-large-wide": "ConfirmationMessage_wt-display-heading-large-wide__vxMzy",
                "wt-display-heading": "ConfirmationMessage_wt-display-heading__oAa2X",
                "wt-sub-heading": "ConfirmationMessage_wt-sub-heading__nTpgg",
                "wt-text-heading-small-bold-narrow": "ConfirmationMessage_wt-text-heading-small-bold-narrow__PLJJz",
                "wt-text-heading-small-bold": "ConfirmationMessage_wt-text-heading-small-bold__ZrfHj",
                "wt-text-heading-small-bold-wide": "ConfirmationMessage_wt-text-heading-small-bold-wide__4JsHJ",
                "wt-text-heading-small-narrow": "ConfirmationMessage_wt-text-heading-small-narrow__j00xF",
                "wt-text-heading-small": "ConfirmationMessage_wt-text-heading-small__wxyAw",
                "wt-text-heading-small-wide": "ConfirmationMessage_wt-text-heading-small-wide__FT7cA",
                "wt-text-heading-medium-bold": "ConfirmationMessage_wt-text-heading-medium-bold__sGIil",
                "wt-text-heading-medium-bold-wide": "ConfirmationMessage_wt-text-heading-medium-bold-wide__7dtEG",
                "wt-text-heading-medium-semi-narrow": "ConfirmationMessage_wt-text-heading-medium-semi-narrow__wRhn0",
                "wt-text-heading-medium-narrow": "ConfirmationMessage_wt-text-heading-medium-narrow__3lDOy",
                "wt-text-heading-medium-semi": "ConfirmationMessage_wt-text-heading-medium-semi__emAw1",
                "wt-text-heading-medium-semi-wide": "ConfirmationMessage_wt-text-heading-medium-semi-wide__0Fox4",
                "wt-text-heading-medium": "ConfirmationMessage_wt-text-heading-medium__FH6ez",
                "wt-text-heading-medium-wide": "ConfirmationMessage_wt-text-heading-medium-wide__JZMAE",
                "wt-text-heading-large-bold-narrow": "ConfirmationMessage_wt-text-heading-large-bold-narrow__7EQmO",
                "wt-text-heading-large-bold": "ConfirmationMessage_wt-text-heading-large-bold__FdZd_",
                "wt-text-heading-large-bold-wide": "ConfirmationMessage_wt-text-heading-large-bold-wide__MKUPF",
                "wt-text-heading-large-narrow": "ConfirmationMessage_wt-text-heading-large-narrow__zX6XE",
                "wt-text-heading-large": "ConfirmationMessage_wt-text-heading-large__I2QEo",
                "wt-text-heading-large-wide": "ConfirmationMessage_wt-text-heading-large-wide__AQUkX",
                "wt-text-heading-x-large-narrow": "ConfirmationMessage_wt-text-heading-x-large-narrow__qwcYM",
                "wt-text-heading-x-large": "ConfirmationMessage_wt-text-heading-x-large__P_cKG",
                "wt-text-heading-x-large-wide": "ConfirmationMessage_wt-text-heading-x-large-wide__JiFml",
                "wt-text-heading": "ConfirmationMessage_wt-text-heading__PzSor",
                "wt-body-x-small-semi": "ConfirmationMessage_wt-body-x-small-semi__pXnpB",
                "wt-body-x-small": "ConfirmationMessage_wt-body-x-small__vd9B6",
                "wt-body-small-bold": "ConfirmationMessage_wt-body-small-bold__WSB9W",
                "wt-body-small-semi": "ConfirmationMessage_wt-body-small-semi__x3nQr",
                "wt-body-small": "ConfirmationMessage_wt-body-small__gFsGA",
                confirmationMessage: "ConfirmationMessage_confirmationMessage__pUDC7",
                "wt-body-medium-bold": "ConfirmationMessage_wt-body-medium-bold__JK3AS",
                "wt-body-medium-semi": "ConfirmationMessage_wt-body-medium-semi__L2dm1",
                "wt-body-medium": "ConfirmationMessage_wt-body-medium__Gwvkb",
                "wt-body-large-bold": "ConfirmationMessage_wt-body-large-bold__Aook1",
                "wt-body-large": "ConfirmationMessage_wt-body-large__e89lD",
                "wt-body-x-large": "ConfirmationMessage_wt-body-x-large__lC_MU",
                "wt-label-x-small-bold": "ConfirmationMessage_wt-label-x-small-bold__d_g60",
                "wt-label-x-small-semi": "ConfirmationMessage_wt-label-x-small-semi__ohp_1",
                "wt-label-x-small": "ConfirmationMessage_wt-label-x-small__H4Yjw",
                "wt-label-small-bold": "ConfirmationMessage_wt-label-small-bold__WHoyL",
                "wt-label-small-semi": "ConfirmationMessage_wt-label-small-semi__UuelV",
                "wt-label-small": "ConfirmationMessage_wt-label-small__iX6by",
                "wt-label-medium-bold": "ConfirmationMessage_wt-label-medium-bold__OdG_1",
                "wt-label-medium-semi": "ConfirmationMessage_wt-label-medium-semi__M35Y1",
                "wt-label-medium": "ConfirmationMessage_wt-label-medium__jILN5",
                "wt-label-large-bold": "ConfirmationMessage_wt-label-large-bold__L1tsg",
                "wt-label-large-semi": "ConfirmationMessage_wt-label-large-semi__MjChj",
                "wt-label-large": "ConfirmationMessage_wt-label-large__fcuvV",
                message: "ConfirmationMessage_message__kJ0na"
            }
        }
    }
]);
//# sourceMappingURL=checkout-pending.1f0f0f32c9ea55c4.js.map
